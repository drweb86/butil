----------
Содержание
----------

1 Зачем происходит разработка ПК
1.1 Язык разработки
2 Ручное функциональное тестирование
2.1 Интерфейс РК сейчас
3 Порядок обновления
4 Порядок обновления пакета 7-zip

--------------------------------
1 Зачем происходит разработка ПК
--------------------------------
	1. Улучшение удобства моей собственной жизни.
	2. Дар окружающим людям со сходными нуждами.
	3. Повышение навыков построения архитектуры, проектирования, программирования.
	4. Бесплатность.
	5. Поддержка русского языка.
	6. Простой интерфейс, максимально приближенный к моим потребностям.
	7. Простотой поддержки: возможность для себя и других без каких-либо ограничений лицензий модифицировать код и использовать полученный результат.
	8. Эгида Э10.

-------------------
1.1 Язык разработки
-------------------

Русский язык:
1. Внутренняя документация
2. Сообщения в BTS

Английский язык:
1. Руководство "Как откомпилировать проект?" в справке
2. Комментарии в коде проекта

------------------------------------
2 Ручное функциональное тестирование
------------------------------------

2.1 Интерфейс РК сейчас

С ошибками и предупреждениями
- перезагрузка
- ничего не делать
- спать
Без ошибок
- ничего не делать
- завершение работы
- hibernate

--------------------
3 Порядок обновления
--------------------

Новая версия должна иметь формат <Число> -> <.> -> <Число>
Например: 4.2
Это требуется текущей реализацией механизма проверки наличия обновления ПК.

Подготовка обновления:
1. \sources\Backup.Core\CopyRightInfo.cs: _Version
2. Каждая модифицированная библиотека должна также получить новую заданную версию
3. Подготовка файла с информацией об обновлении "update.xml". 
Пример:
<xml>
	<version>4.2</version>
	<changes>Ui improvements\nMuch more comfortable data</changes>
</xml>
3.1 Разделитель \n обязателен между строками
3.2 Changes должны быть одной строкой, а не так:
	<changes>Ui improvements\n
		Much more comfortable data
	</changes>

Х Обновление документации
Х.1 В файле 'start.html' обнови версию
Х.2 В файле 'Changes.html' обнови список изменений
Х.3 Собери документацию

4. Обновление версии в инсталляционном скрипте \sources\Setup\install.cs по инструкции, размещенной в скрипте
5. Компиляция Release
6. Компиляция установочного пакета
7. Установка себе
8. Архивирование исходников с использованием 7-zip
8.1 Удалить перед сжатием
.\unins000.exe
.\unins000.dat
.\bin\BUtil
8.2 Шаблон имени архива
BUtil-<первая цифра версии>.<вторая цифра версии>-DotNet2-bin.7z
9. Архивирование бинарников с использованием ZipSolution
Дополнительная настройка к стандартной для этого:
9.1. Шаблон: BUtil-$VERSION-DotNet2-$DATE-src.zip
Фильтры:
9.3. Исключить папку Шаблон релиза
9.4. Исключить файлы Thumbs.db
9.5. Исключить папку 7-zip

Обновление:
1. sourceforge.net
1.1. обновление новостей
1.2. закачка исходников и релиза(инсталлятор и архив бинарников)
1.3. изменение Download странички
1.4. на указанном языке ВСЕ ошибки, изменения должны быть перенесены в BTS sourceforge.net со статусом Closed.
1.5. ФД-* документы должны переноситься в раздел документы(и исключаться из исходников)+в приложения в BTS к задачам

2. doctorweb.zoo.by/butil
2.1. закачка update.xml
2.2. новости на русском об изменениях

3. Отправка обновлений на софт-порталы
3.1. softpedia.com

---------------------------------
4 Порядок обновления пакета 7-zip
---------------------------------

7-zip protection

Binaries of 7-zip protected with md5 checksumms from viruses. All checksumms are hard-coded in library BUtil.Common in class 'Files' in constants Packer7ZipExeMD5 and Packer7ZipDllMD5. To protect altering library 'BUtil.Common' it has strong name

Binaries includes two files located in 7-zip folder:

- 7z.dll
- 7z.exe
- 7zG.exe

Upgrading binaries:

1. Replace binaries in 7-zip folder with fresh 32-bit version 
2. Run md5Signer application with switch -dev
3. This application will output 3 md5
4. Copy them from console window in the constants and recompile 'BUtil.Common'

Protection in action

Before creating backup in BackupUi and BackupConsole application validation of md5 checksumm occur. If files have invalid checksumm programs exit with message 'reinstall software. Files damaged'

